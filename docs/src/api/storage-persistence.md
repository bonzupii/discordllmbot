<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## loadRelationships

Loads all user relationships for a specific guild.

### Parameters

*   `guildId` **[string][1]** The ID of the guild.

Returns **[Promise][2]<[Object][3]>** A map of user IDs to relationship objects.

## saveRelationships

Saves all user relationships for a specific guild.
Uses a transaction to ensure data integrity.

### Parameters

*   `guildId` **[string][1]** The ID of the guild.
*   `relationships` **[Object][3]** A map of user IDs to relationship objects.

Returns **[Promise][2]\<void>**&#x20;

## loadContexts

Loads the recent message history for a specific channel.

### Parameters

*   `guildId` **[string][1]** The ID of the guild.
*   `channelId` **[string][1]** The ID of the channel.
*   `maxMessages` **[number][4]** The maximum number of messages to retrieve.

Returns **[Promise][2]<[Array][5]<[Object][3]>>** An array of message objects.

## saveMessage

Saves a new message to the database.

### Parameters

*   `guildId` **[string][1]** The ID of the guild.
*   `channelId` **[string][1]** The ID of the channel.
*   `authorId` **[string][1]** The ID of the message author.
*   `authorName` **[string][1]** The username of the message author.
*   `content` **[string][1]** The content of the message.

Returns **[Promise][2]\<void>**&#x20;

## pruneOldMessages

Prunes messages older than a specified number of days.

### Parameters

*   `maxAgeDays` **[number][4]** The maximum age of messages in days.

Returns **[Promise][2]\<void>**&#x20;

[1]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[3]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[4]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[5]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array
